{% extends 'parking/base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Customer Dashboard" %} - Smart Parking{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'parking/css/dashboard_cus.css' %}">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
{% endblock %}
{% block content %}
<div class="customer-dashboard">
  <header class="cust-header">
    <div class="container">
      <p class="subtitle">
        {% blocktrans with name=user.get_full_name|default:user.username %}Welcome, {{ name }}!{% endblocktrans %}
      </p>
    </div>
  </header>

  <main class="container main-area">
    <section class="overview grid">
      <article class="card">
        <div class="card-icon"><i class="fas fa-ticket-alt"></i></div>
        <div class="card-body">
          <p class="label">{% trans "Remaining Bookings" %}</p>
          <h2 class="value">{{ bookings_count|default:"0" }}</h2>
        </div>
      </article>

      <article class="card">
        <div class="card-icon"><i class="fas fa-wallet"></i></div>
        <div class="card-body">
          <p class="label">{% trans "Wallet Balance" %}</p>
          <h2 class="value">{{ profile.wallet|default:"0" }} {% trans "VND" %}</h2>
        </div>
      </article>

      <article class="card">
        <div class="card-icon"><i class="fas fa-history"></i></div>
        <div class="card-body">
          <p class="label">Lịch sử gần nhất</p>
          <h2 class="value">{{ last_booking_date|default:"Chưa có" }}</h2>
        </div>
      </article>
    </section>

    <section class="actions">
      <a href="{% url 'parking_history' %}" class="btn btn-primary">
        <i class="fas fa-car"></i> Xe của tôi & Lịch sử
      </a>
      <a href="{% url 'profile' %}" class="btn btn-secondary">
        <i class="fas fa-user-circle"></i> Hồ sơ của tôi
      </a>
      <a href="{% url 'edit_profile' %}" class="btn btn-outline">
        <i class="fas fa-user-edit"></i> Chỉnh sửa thông tin
      </a>
    </section>

    <section class="info card info-card">
      <h3><i class="fas fa-info-circle"></i> Thông tin hữu ích</h3>
      <ul class="notes">
        <li><i class="fas fa-check-circle"></i> Kiểm tra tình trạng bãi đỗ xe trực tuyến trước khi đến.</li>
        <li><i class="fas fa-wallet"></i> Thanh toán linh hoạt: ví điện tử hoặc trực tiếp tại quầy.</li>
        <li><i class="fas fa-clock"></i> Cập nhật trạng thái đỗ xe theo thời gian thực.</li>
        <li><i class="fas fa-phone-alt"></i> Hỗ trợ kỹ thuật 24/7 khi cần thiết.</li>
      </ul>
    </section>
  </main>

  <footer class="cust-footer">
    <div class="container">
      <p>&copy; 2025 Smart Parking</p>
    </div>
  </footer>
</body>
</html>